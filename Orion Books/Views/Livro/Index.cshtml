@model IEnumerable<Orion_Books.Models.Livro>

<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>Livros Disponíveis</h1>
    <a href="@Url.Action("Create", "Livro")" class="btn btn-purple">
        <i class="fas fa-pencil-alt"></i> Adicionar novo Livro
    </a>
</div>

<div class="table-responsive">
    <table id="myTable" class="table table-striped">
        <thead>
            <tr>
                <th>Capa</th>
                <th>Título</th>
                <th>Autor</th>
                <th>Gênero</th>
                <th>Ano Publicado</th>
                <th>ISBN</th>
                <th>Disponível</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var livro in Model)
            {
                <tr>
                    <td>
                        <img src="@livro.CapaURL" alt="Capa de @livro.Titulo" style="width: 50px; height: auto;" />
                    </td>
                    <td>@livro.Titulo</td>
                    <td>@livro.Autor</td>
                    <td>@livro.Genero</td>
                    <td>@livro.AnoPublicado</td>
                    <td>@livro.ISBN</td>
                    <td>
                        @if (livro.Disponivel)
                        {
                            <span class="badge bg-success">Sim</span>
                        }
                        else
                        {
                            <span class="badge bg-danger">Não</span>
                        }
                    </td>
                    <td>
                        <!-- Contêiner de botões para alinhar Visualizar e Editar lado a lado -->
                        <div class="d-inline-flex">
                            <a asp-controller="Livro" asp-action="Detail" asp-route-id="@livro.Id" class="btn btn-primary btn-sm me-1">Visualizar</a>
                            <a asp-controller="Livro" asp-action="Edit" asp-route-id="@livro.Id" class="btn btn-purple btn-sm">
                                <i class="fas fa-pencil-alt"></i> <!-- Ícone de lápis -->
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section scripts {
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" />

    <script>
        $(document).ready(function () {
            $('#myTable').DataTable({
                "language": {
                    "search": "Pesquisar:",
                    "lengthMenu": "Mostrar _MENU_ livros",
                    "info": "Mostrando _START_ a _END_ de _TOTAL_ livros",
                    "paginate": {
                        "first": "Primeiro",
                        "last": "Último",
                        "next": "Próximo",
                        "previous": "Anterior"
                    },
                    "zeroRecords": "Nenhum livro encontrado",
                    "infoEmpty": "Nenhum livro disponível",
                    "infoFiltered": "(filtrado de _MAX_ livros no total)"
                }
            });
        });
    </script>
}

<style>
    .btn-purple {
        background-color: purple; /* Cor de fundo roxa */
        color: white; /* Cor do texto e do ícone em branco */
        border: none; /* Remove a borda do botão */
    }

        .btn-purple:hover {
            background-color: darkviolet; /* Cor mais escura ao passar o mouse */
        }

        .btn-purple .fa-pencil-alt {
            color: white; /* Garante que o ícone de lápis seja branco */
        }
</style>
